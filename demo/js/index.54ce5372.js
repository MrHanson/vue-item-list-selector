/*! @laomao800/vue-item-list-selector v1.1.0 */(function(e){function t(t){for(var i,c,l=t[0],a=t[1],s=t[2],u=0,d=[];u<l.length;u++)c=l[u],n[c]&&d.push(n[c][0]),n[c]=0;for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i]);p&&p(t);while(d.length)d.shift()();return r.push.apply(r,s||[]),o()}function o(){for(var e,t=0;t<r.length;t++){for(var o=r[t],i=!0,l=1;l<o.length;l++){var a=o[l];0!==n[a]&&(i=!1)}i&&(r.splice(t--,1),e=c(c.s=o[0]))}return e}var i={},n={index:0},r=[];function c(t){if(i[t])return i[t].exports;var o=i[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,c),o.l=!0,o.exports}c.m=e,c.c=i,c.d=function(e,t,o){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(c.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)c.d(o,i,function(t){return e[t]}.bind(null,i));return o},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],a=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var p=a;r.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("e35a")},"32ee":function(e,t,o){var i=o("f8d5");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=o("499e").default;n("8fef79ac",i,!0,{sourceMap:!1,shadowMode:!1})},4282:function(e,t,o){t=e.exports=o("2350")(!1),t.push([e.i,'.item-selector{position:relative;line-height:1;background-color:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;overflow:hidden;font-size:14px}.item-selector__searchbar{position:relative;margin:8px}.item-selector__searchbar input{background-color:#fff;border-radius:4px;border:1px solid #dcdfe6;-webkit-box-sizing:border-box;box-sizing:border-box;color:#606266;display:inline-block;font-size:inherit;height:32px;line-height:32px;outline:none;padding:0 15px;-webkit-transition:border-color .2s cubic-bezier(.645,.045,.355,1);transition:border-color .2s cubic-bezier(.645,.045,.355,1);width:100%}.item-selector__searchbar input:focus{border-color:#409eff}.item-selector__searchbar input::-webkit-input-placeholder{color:#bdc2ca}.item-selector__searchbar input::-ms-input-placeholder{color:#bdc2ca}.item-selector__searchbar input::placeholder{color:#bdc2ca}.item-selector__searchbar-clean{width:20px;height:20px;line-height:20px;position:absolute;top:50%;right:5px;margin-top:-10px;text-align:center;cursor:pointer;opacity:.6}.item-selector__searchbar-clean:hover{opacity:1}.item-selector__searchbar-clean:after,.item-selector__searchbar-clean:before{content:"";position:absolute;width:16px;height:1px;background-color:#999;left:50%;top:50%;margin-left:-8px}.item-selector__searchbar-clean:before{-webkit-transform:rotate(45deg);transform:rotate(45deg)}.item-selector__searchbar-clean:after{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.item-selector__options-wrap{border-top:1px solid #e2e6ec}.item-selector__options{margin:0;padding:0;list-style:none}.item-selector__options--empty{margin:0;line-height:34px;text-align:center;color:#999;font-size:14px}.item-selector__option{font-size:14px;padding:0 15px;position:relative;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:#606266;height:34px;line-height:34px;-webkit-box-sizing:border-box;box-sizing:border-box;cursor:pointer}.item-selector__option--active,.item-selector__option:hover{background-color:#f5f7fa}.item-selector__option:after{position:absolute;top:50%;right:15px;display:none;width:6px;height:12px;margin-top:-8px;content:"";-webkit-transform:rotate(45deg);transform:rotate(45deg);text-align:center;border:solid #ddd;border-width:0 1px 1px 0}.item-selector__option--checked{color:#409eff;font-weight:700}.item-selector__option--checked:after{display:block;border-color:#409eff}.item-selector .match{color:#000;background-color:#ff6}',""])},a7e2:function(e,t,o){"use strict";var i=o("32ee"),n=o.n(i);n.a},cd4d:function(e,t,o){var i=o("4282");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=o("499e").default;n("1e082da6",i,!0,{sourceMap:!1,shadowMode:!1})},e35a:function(e,t,o){"use strict";o.r(t);o("cadf"),o("551c"),o("097d");var i=o("2b0e"),n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("h2",[e._v("Multiple Selected")]),o("div",{staticClass:"wrap"},[o("div",{staticClass:"selector"},[o("ItemListSelector",{attrs:{data:e.listData},model:{value:e.multipleSelected,callback:function(t){e.multipleSelected=t},expression:"multipleSelected"}})],1),o("div",{staticClass:"result"},[e._v(e._s(e.multipleSelected))])]),o("h2",[e._v("Single Selected")]),o("div",{staticClass:"wrap"},[o("div",{staticClass:"selector"},[o("ItemListSelector",{attrs:{data:e.listData,multiple:!1},model:{value:e.singleSelected,callback:function(t){e.singleSelected=t},expression:"singleSelected"}})],1),o("div",{staticClass:"result"},[e._v(e._s(e.singleSelected))])])])},r=[],c=(o("6c7b"),o("6b54"),o("2909")),l=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"item-selector",on:{keyup:function(t){e.handleKeyup(t)}}},[o("div",{staticClass:"item-selector__searchbar"},[""!==e.keyword?o("span",{staticClass:"item-selector__searchbar-clean",on:{click:function(t){e.keyword=""}}}):e._e(),o("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.keyword,expression:"keyword",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:e.searchText},domProps:{value:e.keyword},on:{input:function(t){t.target.composing||(e.keyword=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),0===e.filtedData.length?o("div",{staticClass:"item-selector__options--empty"},[e._v(e._s(e.notFoundText))]):o("virtual-list",{key:e.debounceKeyword,ref:"options",staticClass:"item-selector__options-wrap",attrs:{start:e.startIndex,size:e.optionHeight,remain:e.optionsRemain,bench:e.optionsBench,wtag:"ul",wclass:"item-selector__options"}},e._l(e.filtedData,function(t,i){return o("li",{key:i,class:["item-selector__option",{"item-selector__option--checked":e.isSelected(t),"item-selector__option--active":i===e.optionActiveIndex}],domProps:{innerHTML:e._s(e.highlightMatch(e.optionTemplate(t)))},on:{click:function(t){e.toggleSelection(i)},mouseenter:function(t){e.optionActiveIndex=i}}})}),0)],1)},a=[],s=(o("ac6a"),o("96cf"),o("1da1")),p=(o("4917"),o("3b2b"),o("a481"),o("28a5"),o("c5f6"),o("41c6")),u=o.n(p),d=o("bfc7"),f=o.n(d),h=o("63ea"),m=o.n(h),b=o("0f32"),v=o.n(b),x=o("95ff"),g=o.n(x),_=o("7af6");function y(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=o.tag,n=void 0===i?"span":i,r=o.className,c=void 0===r?"match":r;if(t&&(t=t.trim())){var l=t.split(" ").filter(function(e){return e}).map(function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}),a=t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),s=l.length>1?l:[];s.push(a);var p=new RegExp(s.join("|"),"gi");return e.toString().replace(p,function(e){return"<".concat(n,' class="').concat(c,'">').concat(e,"</").concat(n,">")})}return e}o("cd4d");var w={name:"ItemListSelector",components:{VirtualList:g.a},model:{prop:"selection",event:"selection-change"},props:{multiple:{type:Boolean,default:!0},selection:{type:[Array,Object],default:function(){return[]}},data:{type:Array,default:function(){return[]}},notFoundText:{type:String,default:"无匹配记录"},searchText:{type:String,default:"请输入搜索关键字"},optionTemplate:{type:Function,default:function(e){return e.hasOwnProperty("label")?e.label:""}},optionHeight:{type:Number,default:34},optionsRemain:{type:Number,default:6},optionsBench:{type:Number,default:60}},data:function(){return{keyword:"",debounceKeyword:"",startIndex:0,optionActiveIndex:-1}},computed:{filtedData:function(){var e=this,t=this.debounceKeyword;if(t){var o=t.split(" ").filter(function(e){return e}),i=o.map(function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}).join("|"),n=RegExp(i,"gi");return this.data.filter(function(t){return e.optionTemplate(t).toString().match(n)})}return this.data},selectionArr:function(){return this.multiple?this.selection:[this.selection]}},watch:{keyword:function(){this.throttleKeyword()},debounceKeyword:function(){this.startIndex=0,this.optionActiveIndex=-1}},methods:{throttleKeyword:v()(function(){this.debounceKeyword=this.keyword},200),reset:function(){this.keyword="",this.syncSelection([])},highlightMatch:function(e,t){return this.debounceKeyword?y(e,this.debounceKeyword,t):e},isSelected:function(e){return this.selectionArr.indexOf(e)>-1},handleKeyup:function(e){switch(e.keyCode){case 38:e.preventDefault(),this.activePrevOptions();break;case 40:e.preventDefault(),this.activeNextOptions();break;case 13:e.preventDefault(),this.toggleSelection(this.optionActiveIndex);break}},activePrevOptions:function(){0===this.optionActiveIndex?(this.optionActiveIndex=this.filtedData.length-1,this.startIndex=this.filtedData.length):(this.optionActiveIndex--,this.scrollActiveOptionToView("prev"))},activeNextOptions:function(){this.optionActiveIndex<this.filtedData.length-1?(this.optionActiveIndex++,this.scrollActiveOptionToView("next")):(this.optionActiveIndex=0,this.startIndex=0)},toggleSelection:function(e){var t="number"===typeof e?e:this.optionActiveIndex,o=this.filtedData[t];if(o){var i=[];i=this.multiple?u()(this.selectionArr,[o]):[o],this.syncSelection(i)}},syncSelection:function(e){var t=this.multiple?e:e[0]||{};m()(t,this.selection)||this.$emit("selection-change",t)},scrollActiveOptionToView:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var o,i,n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$nextTick();case 2:o=this.$refs.options.$el,i=o.querySelector(".item-selector__option--active"),i?(n=Object(_["a"])(i,{scrollMode:"if-needed",block:"nearest",inline:"nearest"}),n.forEach(function(e){var t=e.el,o=e.top,i=e.left;t.scrollTop=o,t.scrollLeft=i})):(r="prev"===t?-1:1,o.scrollTo({top:o.scrollTop+this.optionHeight*r}));case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),setSelection:function(e){if("function"!==typeof e)throw Error('[item-list-selector] "setSelection()" accept a function as argument.');var t=this.data.filter(e);this.syncSelection(t)},addSelection:function(e){if(!this.multiple)throw Error('[item-list-selector] "addSelection()" only works on multiple mode.');if("function"!==typeof e)throw Error('[item-list-selector] "addSelection()" accept a function as argument.');var t=this.data.filter(e),o=f()(this.selectionArr,t);this.syncSelection(o)},removeSelection:function(e){if("function"!==typeof e)throw Error('[item-list-selector] "removeSelection()" accept a function as argument.');var t=this.selectionArr.filter(function(t){return!e(t)});this.syncSelection(t)}}},k=w,S=o("2877"),A=Object(S["a"])(k,l,a,!1,null,null,null);A.options.__file="index.vue";var O=A.exports;function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return Object(c["a"])(Array(e)).map(function(e){return(~~(36*Math.random())).toString(36)}).join("")}var T={name:"App",components:{ItemListSelector:O},data:function(){return{singleSelected:{},multipleSelected:[],listData:Array(6e3).fill().map(function(e,t){return{label:"".concat(t," - ").concat(I()),value:t}})}}},j=T,M=(o("a7e2"),Object(S["a"])(j,n,r,!1,null,null,null));M.options.__file="App.vue";var $=M.exports;i["default"].config.productionTip=!1,new i["default"]({render:function(e){return e($)}}).$mount("#app")},f8d5:function(e,t,o){t=e.exports=o("2350")(!1),t.push([e.i,".wrap{display:-webkit-box;display:-ms-flexbox;display:flex}.selector{width:300px}.result{white-space:pre-wrap;margin-left:20px;height:220px;overflow:auto;padding:10px;-webkit-box-flex:1;-ms-flex:1;flex:1;font-size:12px;border:1px solid #eee}",""])}});